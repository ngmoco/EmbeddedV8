var c=this;function h(f,d){var e=f.split("."),a=c;!(e[0]in a)&&a.execScript&&a.execScript("var "+e[0]);for(var b;e.length&&(b=e.shift());)!e.length&&void 0!==d?a[b]=d:a=a[b]?a[b]:a[b]={}}var i=0,j=0;h("SetGameBounds",function(f,d){i=f;j=d});var k=null,m=new function(){this.entities=[];this.e=new Date};
h("OnAddEntity",function(){PrintLog("Adding Entities");for(var f=Math.floor(100*Math.random())+1,d=0;d<f;++d){var e=m,a=new Entity;a.width=Math.floor(33*Math.random())+32;a.height=a.width;a.a=2*Math.random()*Math.PI;a.b=Math.cos(a.a);a.c=Math.sin(a.a);a.d=(10*Math.floor(10*Math.random())+1)/1E3;e.entities.push(a)}});h("OnRemoveEntites",function(){PrintLog("Removing Entities");m.entities=[]});h("OnGameStart",function(){PrintLog("Game Started");return 0});h("OnGameStop",function(){PrintLog("Game Stopped")});
h("OnGameUpdate",function(){var f=new Date,d=0;k&&(d=f.getTime()-k.getTime());for(var e=[],a=m.entities.length,b=0;b<a;++b){var g=m.entities[b].pos,l=m.entities[b].d*d,g=[g[0]+l*m.entities[b].b,g[1]+l*m.entities[b].c];g[0]>i||g[0]<-i?m.entities[b]=null:g[1]>j||g[1]<-j?m.entities[b]=null:(m.entities[b].pos=g,e.push(m.entities[b]))}m.entities=e;k=f;return m.entities});
